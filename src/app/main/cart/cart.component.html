<section id="subheader" data-speed="8" data-type="background">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Giỏ hàng </h1>
                <ul class="crumb">
                    <li><a href="index-2.html">Trang chủ</a></li>
                    <li class="sep">/</li>
                    <li>giỏ hàng</li>
                </ul>
            </div>
        </div>
    </div>
</section>
<div class="bao">
    <ng-container *ngIf="items.length!=0">
        <div class="container">
            <div class="card">
                <div class="card-title">
                    <h2>Giỏ hàng của bạn</h2>
                </div>
                <table class="table table-hover table-inverse table-responsive">
                    <thead class="thead-inverse">
                        <tr>
                            <th>STT</th>
                            <th>Tên sản phẩm</th>
                            <th>Hình ảnh</th>
                            <th>Đơn giá</th>
                            <th>Số lượng</th>
                            <th>Tổng tiền</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let a of items  ;let i=index">
                            <td scope="row"> {{i+1}} </td>
                            <td><a routerLink="/detail/{{a.id}}/{{a.idCategory}}" style="color: black;">{{a.name}}</a>  </td>
                            <td>
                                <img style="height: 100px;" src="../../../assets/Image/Products/{{a.image}}" alt="">
                            </td>
                            <td style="color: red;"> {{a.price |number: '3.0'}} </td>
                            <td> <input style="border: none;" #ip min="1" max="100" [value]="a.quantity" type="number">
                            </td>
                            <td style="color: red;"> {{a.money|number :'3.0'}} </td>
                            <td>
                                <button class="btn btn-danger" (click)="cartService.deleteItem(a.id)"><i
                                        style="text-align: center;" class="fas fa-trash-alt"></i></button>
                                <!-- (click)="cartService.deleteItem(a.Id)" -->
                            </td>
                        </tr>


                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="2"></td>
                            <td class="text-right" colspan="3">Tổng : </td>
                            <td colspan="2" class="text-danger">{{total |number : '3.0'}} VNĐ </td>
                        </tr>
                        <tr>
                            <!-- <td colspan="1"></td> -->
                            <td colspan="4">
                                <form class="form-inline float-right">
                                    <div class="form-group">
                                        <input type="text" placeholder="Nhập mã giảm giá"
                                            class="form-control border-form-control form-control-sm">
                                    </div>
                                    &nbsp;
                                    <button class="btn btn-success  btn-sm" type="submit">Áp dụng</button>
                                </form>
                            </td>
                            <!-- <td class="text-right" colspan="5"><strong>Tổng tiền :</strong></td>
                               <td class="text-danger" colspan="2"><strong>0 VNĐ</strong></td> -->
                            <td colspan="2">Giảm giá : 0 VNĐ </td>
                            <td class="text-danger" colspan="2"></td>
                        </tr>

                        <tr>
                            <td class="text-right" colspan="5"><strong>Tổng tiền :</strong></td>
                            <td class="text-danger" colspan="2"><strong>{{total |number : '3.0'}} VNĐ</strong></td>
                        </tr>

                        <tr>
                            <td colspan="3">
                                <a routerLink="/products"><button type="button" class="btn btn-info">Quay lại cửa hàng
                                    </button></a>



                            </td>
                            <td class="text-right" colspan="5">
                              
                                    <div>  <button type="button" class="btn btn-danger" style="float: left;" (click)="clearCart()">Xóa toàn bộ sản
                                        phẩm</button></div>
                                        <div *ngIf="data !=null">
                                            <a routerLink="/checkout"><button type="button" style="float: right;margin-left: 10px;"
                                                class="btn btn-success"> Thanh toán</button> </a>
                                        </div>
                                        <div *ngIf="data==null">
                                            <a routerLink="/login"><button type="button" style="float: right;margin-left: 10px;"
                                                class="btn btn-success"> Thanh toán</button> </a>
                                        </div>
                            </td>



                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>


    </ng-container>

    <ng-container *ngIf="items.length==0">
        <div class="container">
            <div class="card">
                <div class="card-title">
                    <h2>Giỏ hàng</h2>
                </div>
                <div class="center">
                    <img src="../../../assets/Image/Cart/mascot@2x.png" style="height:150px;" alt="">
                    <h4>Giỏ hàng của bạn đang bị rỗng</h4>
                    <h6>Quay lại cửa hàng để mua sắm ngay bây giờ</h6>
                    <button class="btn btn-primary" routerLink="/products">Mua sắm</button>
                </div>
            </div>
        </div>
    </ng-container>

</div>



